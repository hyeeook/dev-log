# 📅 날짜: 2026-02-11
## 📌 프로젝트: KT 부정가입방지 안면인증 프로세스 도입

---

### ✅ 오늘 한 작업
- [x] 안면인증 조회 서비스 테스트
- [x] KT Shop 외부 제휴 채널(카카오페이, 안드로메다의영웅들)과 안면인증 API 호출 테스트

---

### ⚠️ 문제점 & 해결
- 현황<br>
    > 
- 문제<br>
    ```java
    int fathEfctDayNum = 7; // 기본 유효일수 7일

    // 기준정보 조회
    cwSysCdBasRetvDo.cleanUp();
    cwSysCdBasRetvDo.setSysGroupCdId("FATH_SKIP_CD");
    cwSysCdBasRetvDo.setSysCdId("FATH_EFCT_DAY_NUM");
    cwSysCdBasRetvDo.execute();

    try {
        // int 범위 초과 또는 허용되지 않는 문자가 들어가면 기본 유효일수로 로직 수행
        int value = Integer.parseInt(cwSysCdBasRetvDo.getRfrnVal1());
        
        if(0 <= value) {
            fathEfctDayNum = value;
        }

    } catch(NumberFormatException e) {

    }

    // 이후 로직 수행
    ```
    > DB의 RFRN_VAL1 컬럼 데이터를 999,999,999,999로 보정을 해도 적용되지 않는다.

- 원인<br>
    > int 타입의 허용 범위를 초과하는 값으로 데이터 보정하여 예외가 발생했고 기본 유효일수로 적용된다.
- 해결<br>
    > 1차 : DB 문제인 줄 알고 DBA 통해 해결하려고 했다.<br>
    > 2차 : PO 툴에서 DO 파일로 DB 조회 테스트 결과 데이터 보정된 것이 확인이 되어서 서버 문제로 인식, 서버 재기동으로 해결하려고 했다.<br>
    > 3차 : 서버 재기동으로 미해결, 허용 범위 초과 값으로 데이터 보정한 것을 인지하고 범위 내 값으로 데이터 보정하여 해결했다.

---

### 💡 새로 배운 것
- …

---

### 🔎 회고
- 잘한 점<br>
    > 
- 개선할 점<br>
    > 원인 분석 없이 무조건 해결하려고 하다가 엉뚱한 부분만 건드리게 되기 때문에 항상 원인이 무엇인지, 흐름이 어떻게 되는지 먼저 분석이 필요하다.
- 내일 계획<br>
    > 사소한 부분도 원인 및 흐름 분석 선행
